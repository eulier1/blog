<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux recovery file from android device or sd card 💻 📱</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/styles.0593fd3f.css" as="style"><link rel="preload" href="/assets/js/app.0593fd3f.js" as="script"><link rel="preload" href="/assets/js/1.2462463e.js" as="script"><link rel="prefetch" href="/assets/css/6.styles.09107e10.css"><link rel="prefetch" href="/assets/js/10.dc13519c.js"><link rel="prefetch" href="/assets/js/11.a7d6a010.js"><link rel="prefetch" href="/assets/js/12.e0288f6d.js"><link rel="prefetch" href="/assets/js/13.a223941e.js"><link rel="prefetch" href="/assets/js/14.589bf0a3.js"><link rel="prefetch" href="/assets/js/15.a45cda26.js"><link rel="prefetch" href="/assets/js/2.8d6a0a49.js"><link rel="prefetch" href="/assets/js/3.e920aa9c.js"><link rel="prefetch" href="/assets/js/4.f7c134ea.js"><link rel="prefetch" href="/assets/js/5.7ca327b1.js"><link rel="prefetch" href="/assets/js/6.09107e10.js"><link rel="prefetch" href="/assets/js/7.807c9b48.js"><link rel="prefetch" href="/assets/js/8.ccbc2426.js"><link rel="prefetch" href="/assets/js/9.c0d59e9b.js">
    <link rel="stylesheet" href="/assets/css/styles.0593fd3f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><img src="/assets/img/logo.png" class="logo"><!----></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="https://linkedin.com/in/eulier-gonzalez-69079096" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Linkedin
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/reilue" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://stackoverflow.com/users/5692051/yoarthur" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Stack Overflow
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://twitter.com/arthard101" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Twitter
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://linkedin.com/in/eulier-gonzalez-69079096" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Linkedin
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/reilue" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://stackoverflow.com/users/5692051/yoarthur" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Stack Overflow
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://twitter.com/arthard101" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Twitter
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>2020/March</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>2019/August</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>2019/April</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/2019/april/using-linux-recovery-files-from-android-device.html" class="active sidebar-link">Linux recovery file from android device or sd card 💻 📱</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/2019/april/quick-guide-setup-lamp-workflow.html" class="sidebar-link">Quick guide for Linux Apache Mysql PHP (LAMP) Workflow 💻 ⚡️</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>2019/March</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>2019/February</span><span class="arrow right"></span></p><!----></div></li></ul></div><div class="page"><div class="content"><h1 id="linux-recovery-file-from-android-device-or-sd-card"><a href="#linux-recovery-file-from-android-device-or-sd-card" aria-hidden="true" class="header-anchor">#</a> Linux recovery file from android device or sd card 💻 📱</h1><p>This is a quick overview from</p><blockquote><p><a href="https://roubert.name/joakim/androidfilerecovery/" target="_blank" rel="noopener noreferrer">roubert android file recovery main source<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote><p>last one is useful for <strong>android internal memory</strong> here i'll highlight also for <strong>sd card memory</strong> recovery 🤘</p><h3 id="prerequirement"><a href="#prerequirement" aria-hidden="true" class="header-anchor">#</a> Prerequirement</h3><ul><li><p>The phone needs to be rooted. That sucks (yes, I prefer to keep my things stock if possible!), but if the files are important enough the hassle is worth it. If your phone was already rooted, you are good to go.</p></li><li><p>https://kingroot.net/</p></li><li><p><a href="https://play.google.com/store/apps/details?id=stericson.busybox" target="_blank" rel="noopener noreferrer">BusyBox<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> installed on your Android device
The <a href="http://developer.android.com/sdk/" target="_blank" rel="noopener noreferrer">Android SDK<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to get <a href="http://developer.android.com/tools/help/adb.html" target="_blank" rel="noopener noreferrer">adb<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. Just download the (big) SDK, (unpack it)[http://developer.android.com/sdk/installing/bundle.html] and run adb from within.</p></li><li><p>The programs <a href="http://www.cgsecurity.org/wiki/TestDisk" target="_blank" rel="noopener noreferrer">TestDisk<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, <a href="https://code.google.com/p/pipeviewer/" target="_blank" rel="noopener noreferrer">Pipe Viwer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (pv) and optionally <a href="http://extundelete.sourceforge.net/" target="_blank" rel="noopener noreferrer">extundelete<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (if we are to recover files from ext3/4 filesystems)</p></li></ul><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">apt-get</span> <span class="token function">install</span> testdisk <span class="token function">pv</span> extundelete
</code></pre></div><h3 id="instructions"><a href="#instructions" aria-hidden="true" class="header-anchor">#</a> Instructions</h3><ol><li><p><a href="http://developer.android.com/tools/device.html#setting-up" target="_blank" rel="noopener noreferrer">Activate USB Debug on your device<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (in order to connect with adb)</p></li><li><p>Attach your device to the computer via the USB cable</p></li><li><p>Open a terminal on your computer, go to the Android SDK directory's subdirectory sdk/platform-tools (where adb is located)</p></li><li><p>Log in to your phone with adb shell:</p><div class="language-bash extra-class"><pre class="language-bash"><code>./adb shell
</code></pre></div><p>(NB: You might have to implicitly call adb start-server as root first if the command above fails.)</p></li></ol><ol start="5"><li><p>Now we can either use the mount command to find out what partition holds the SD Card data and dump that one, or we just dump out the entire memory content and skip the thinking part. I find the latter preferable, since the thinking part involved in the first approach is always prone to fail. So then you want to search for a block device called something like</p><p><strong>VERY IMPORTANT</strong> Unlike roubert recovery method which is useful for internal memory, here i also identify it for sd card.</p><p>by convetion <strong>internal memory</strong> is</p><div class="language-bash extra-class"><pre class="language-bash"><code>/dev/block/mmcblk0
</code></pre></div><p><strong>sd card</strong> is</p><div class="language-bash extra-class"><pre class="language-bash"><code>/dev/block/mmcblk1
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code>shell@android:/ <span class="token comment"># ls /dev/block</span>
dm-0
dm-1
dm-2
loop0
loop1
loop2
loop3
loop4
loop5
loop6
loop7
mmcblk0
mmcblk0boot0
mmcblk0boot1
mmcblk0p1
mmcblk0p10
mmcblk0p11
mmcblk0p12
mmcblk0p13
mmcblk0p14
mmcblk0p2
mmcblk0p3
mmcblk0p4
mmcblk0p5
mmcblk0p6
mmcblk0p7
mmcblk0p8
mmcblk0p9
ram0
ram1
ram10
ram11
ram12
ram13
ram14
ram15
ram2
ram3
ram4
ram5
ram6
ram7
ram8
ram9
vold
zram0
shell@android:/ <span class="token comment">#</span>
</code></pre></div></li></ol><p>Here we see that there are several partitions within mmcblk0, but we leave it for TestDisk to take care of the partitions later.</p><ol start="6"><li><p>Exit the shell to go back to the Android SDK directory's subdirectory sdk/platform-tools on your computer.</p></li><li><p>Now let us dump the content of that /dev/block/mmcblk0 that we found to the computer. With adb shell we can become superuser and execute cat to dump the content like this:</p></li></ol><div class="language-bash extra-class"><pre class="language-bash"><code> $ ./adb shell <span class="token function">su</span> -c <span class="token string">&quot;cat /dev/block/mmcblk0&quot;</span> <span class="token operator">|</span> <span class="token function">pv</span> <span class="token operator">&gt;</span> mmcblk0.raw
</code></pre></div><p>Pipe Viwer (pv) is optional, but I like to see the transfer progress information it provides.
(And of course you can change mmcblk0.raw to some other directory/filename if you want to.)</p><p>Addition: André Paixão wrote to me that he just got an empty file with the command above. He solved it by using <a href="http://forum.xda-developers.com/showthread.php?t=1687590" target="_blank" rel="noopener noreferrer">adbd insecure<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p><p>Addition: Daniel Jeliński wrote to me that he ran into <a href="http://stackoverflow.com/questions/13578416/read-binary-stdout-data-from-adb-shell" target="_blank" rel="noopener noreferrer">issues with LF encoding<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. The solution that worked for him was:</p><div class="language-bash extra-class"><pre class="language-bash"><code>./adb shell <span class="token function">su</span> -c <span class="token string">&quot;cat /dev/block/mmcblk0&quot;</span> <span class="token operator">|</span> <span class="token function">pv</span> <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">'s/^M$//'</span> <span class="token operator">&gt;</span> mmcblk0.raw
</code></pre></div><p>...where ^M is what you get by pressing Ctrl+V followed by Ctrl+M.</p><p>Addition: Marc also ran into the LF problems, but solved it this way:</p><div class="language-bash extra-class"><pre class="language-bash"><code>./adb shell <span class="token string">&quot;su -c 'stty raw; cat /dev/block/mmcblk0'&quot;</span> <span class="token operator">|</span> <span class="token function">pv</span> <span class="token operator">&gt;</span> mmcblk0.raw
</code></pre></div><p>Addition: Tim de Waal wrote to me that he prefers using netcat/gzip instead:</p><p>On the Android device (adb shell with su), run:</p><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">dd</span> if<span class="token operator">=</span>/dev/block/mmcblk0 <span class="token operator">|</span> <span class="token function">gzip</span> -9 <span class="token operator">|</span> nc -l 5555
</code></pre></div><p>On the computer, run:</p><div class="language-bash extra-class"><pre class="language-bash"><code>nc <span class="token punctuation">[</span>AndroidIP<span class="token punctuation">]</span> 5555 <span class="token operator">|</span> <span class="token function">pv</span> -b <span class="token operator">&gt;</span> mmcblk0.img.gz
</code></pre></div><ol start="8"><li><p>Now wait until the transfer is done. For a 8 GB device it does not take too long, but still there is time to check some e-mails and browse the web while it finishes.</p></li><li><p>With the dump on the Linux machine's file system, now we can let TestDisk take it from there:</p></li></ol><div class="language-bash extra-class"><pre class="language-bash"><code>$ testdisk mmcblk0.raw
</code></pre></div><ol start="10"><li>First restore the GPT partition table. Select mmcblk0.raw in the TestDisk interface and choose Proceed:</li></ol><p>Choose EFI GPT partition map:</p><p><img src="/assets/img/testdisk00.235b789b.png" alt="image 1"></p><p>Then select Analyse in order for TestDisk to find the partitions:</p><p><img src="/assets/img/testdisk01.32fe2ceb.png" alt="image 2"></p><p>Choose Quick Search:</p><p><img src="/assets/img/testdisk02.93290af7.png" alt="image 3"></p><p>Hopefully the search will return a nice table like this:</p><p><img src="/assets/img/testdisk03.fa9bff85.png" alt="image 4"></p><p>Then just press enter to continue.</p><p><img src="/assets/img/testdisk04.a6e0ec1c.png" alt="image 5"></p><p>Select Write to write this new(ly recovered) partition table. Then confirm with Y:</p><p><img src="/assets/img/testdisk05.c9677934.png" alt="image 6"></p><p>You will then be informed that you need to reboot. But in our case there is no need for that. Just press enter to continue:</p><p><img src="/assets/img/testdisk06.7e47707a.png" alt="image 7"></p><p>Now the partition table is restored, and we can go on and try to recover the files.</p><p><img src="/assets/img/testdisk07.32ed03c8.png" alt="image 8"></p><p>Select Advanced to use TestDisk's Filesystem Utils section:</p><p><img src="/assets/img/testdisk08.bf1cfb51.png" alt="image 9"></p><p>Select the partition where you want to do the recovery. In this example, we want to recover photos from the FAT32 SD Card partition with the Undelete option:</p><p><img src="/assets/img/testdisk09.12f44c4b.png" alt="image 10"></p><p>Now we can browse the filesystem for files that can be recovered:</p><p><img src="/assets/img/testdisk10.1b5ebfe4.png" alt="image 11"></p><p>In the /DCIM/100ANDRO directory, where my Android device stores its camera images, we find a lot of files that can be recovered. Select all or some of them, and use either C or c to recover them to one of the Linux computer's file systems (e.g. your home directory):</p><p><img src="/assets/img/testdisk11.f45668d9.png" alt="image 12"></p><p>Done!</p><p>Optional: To recover files from an ext3/ext4 partition, TestDisk has an option Image Creation that will write an image called image.dd of that partition to a file on the Linux computer's file system:</p><p><img src="/assets/img/testdisk12.6f923c0e.png" alt="image 13"></p><p>Then you can use extundelete in your terminal window to recover files from the image:</p><div class="language-bash extra-class"><pre class="language-bash"><code>extundelete --restore-all image.dd
</code></pre></div><p>Thank you very much Mathias Brodala, Piotr Biesiada, André Paixão, Marc, Daniel Jeliński and Tim de Waal for sharing your valuable update suggestions and corrections.</p></div><div class="page-edit"><!----><div class="last-updated"><span class="prefix">Last Updated: </span><span class="time">4/29/2019, 12:03:44 AM</span></div></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/2019/august/create-category-in-datocms.html" class="prev">
          How to create categories in DatoCMS for a Gallery? 🤔
        </a></span><span class="next"><a href="/2019/april/quick-guide-setup-lamp-workflow.html">
          Quick guide for Linux Apache Mysql PHP (LAMP) Workflow 💻 ⚡️
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/app.0593fd3f.js" defer></script><script src="/assets/js/1.2462463e.js" defer></script>
  </body>
</html>
